import React from "react";
import { Formik } from "formik";
import Input from "../../../../shared/Reusable/Input";

class CustomerReceipt extends React.Component {
  constructor(props) {
    super(props);

    this.initialValues = { name: "", amount: "", date: "", category: "" };
  }
  validate = (values) => {
    const errors = {};
    if (!values.name) {
      errors.name = "Required";
    }
    if (!values.amount) {
      errors.amount = "Required";
    }
    if (!values.date) {
      errors.date = "Required";
    }
    if (!values.category) {
      errors.category = "Required";
    }
    return errors;
  };
  handleSubmit = (values, setSubmitting) => {
    setTimeout(() => {
      alert(JSON.stringify(values, null, 2));
      setSubmitting(false);
    }, 400);
  };
  render() {
    return (
      <div id="expenseForm">
        <Formik
          initialValues={this.initialValues}
          validate={(values) => this.validate(values)}
          onSubmit={(values, { setSubmitting }) =>
            this.handleSubmit(values, setSubmitting)
          }
        >
          {({
            values,
            errors,
            touched,
            handleChange,
            handleBlur,
            handleSubmit,
            isSubmitting
            /* and other goodies */
          }) => (
            <form onSubmit={handleSubmit}>
              <label for="name">
                Title <span>{errors.name && touched.name && errors.name}</span>
              </label>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="Enter expense title"
                onChange={handleChange}
                onBlur={handleBlur}
                value={values.name}
              />

              <label for="amount">
                Amount{" "}
                <span>{errors.amount && touched.amount && errors.amount}</span>
              </label>
              <input
                type="number"
                id="amount"
                name="amount"
                placeholder="Enter expense amount"
                onChange={handleChange}
                onBlur={handleBlur}
                value={values.amount}
              />

              <label for="date">
                Spend Date{" "}
                <span>{errors.date && touched.date && errors.date}</span>
              </label>
              <Input
                type="date"
                id="date"
                name="date"
                placeholder="Enter date"
                onChange={handleChange}
                onBlur={handleBlur}
                value={values.date}
              />

              <label for="category">
                Category{" "}
                <span>
                  {errors.category && touched.category && errors.category}
                </span>
              </label>
              <select
                id="category"
                name="category"
                onChange={handleChange}
                onBlur={handleBlur}
                value={values.category}
              >
                <option value="">Select</option>
                <option value="Food">Food</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Academic">Academic</option>
              </select>

              <input type="submit" value="Submit" disabled={isSubmitting} />
            </form>
          )}
        </Formik>
      </div>
    );
  }
}
export default CustomerReceipt;


import React, { Fragment, Component } from "react";

// components
import Header from "../../../../shared/Header/Header";
import SubHeader from "../../../../shared/SubHeader/SubHeader";
import Footer from "../../../../shared/Footer/Footer";
import { Button } from "react-bootstrap";

// import { Toast } from "primereact/toast";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";



// // Reusable Component
import Input from "../../../../shared/Reusable/Input";
import Select from "../../../../shared/Reusable/Select";
import TextArea from "../../../../shared/Reusable/TextArea";

// Phone Number
import PhoneInput from "react-phone-number-input";
import "react-phone-number-input/style.css";

const BillNo = [
  { value: "Bill No 1", label: "Bill No 1" },
  { value: "Bill No 2", label: "Bill No 2" },
  { value: "Bill No 3", label: "Bill No 3" },
];

const payMode = [
  { value: "Cash", label: "Cash" },
  { value: "Card", label: "Card" },
  { value: "UPI", label: "UPI" },
];

class CustomerReceipt extends Component {
  initialState = {

    customerId: "",
    companyName: "",
    mobileNumber: "",
    install: "",
    payMode: "",
    paidAmt: "",
    remarks: "",
    errorMsg: {},
  };
  state = this.initialState;
  handleReset = () => {
    this.setState(() => this.initialState);
  };
  handleChange = (e) => {
    const { name, value } = e.target;
    this.setState({
      [name]: value,
    });
  };

  handleSubmit = (e) => {
    e.preventDefault();
    this.validate();

    if (this.state.customerId === "" || this.state.companyName === "" || this.state.paidAmt === "") {
      toast.error("Please, Filled all mandatory fields !");
    } else {
      toast.success("Form Submitted!");
    }

    this.handleReset();
  };

  validate = (values) => {
    let errors = {};

    if (Object.keys(this.state.customerId).length === 0 && this.handleSubmit) {
      console.log("ErrorMessage");
    }
    else {
      console.log("Submit")
    }

    // if (!values.customerId) {
    //   errors.customerId = "Enter Valid Value";
    // }
    return errors;
  };
  render() {
    const { errors } = this.state;
    return (
      <>
        <Header />
        <SubHeader />
        {/* <Toast ref={(el) => (this.toast = el)} /> */}
        <div className="form__container">
          <form
            onReset={this.handleReset}
            // onSubmit={this.handleSubmit}
            className="form__content"
          >
            <div className="title-display">
              <div className="title"> Customer Receipt </div>
            </div>
            <div className="form__wrapper">
              <div className="form__left">
                <div className="fields">
                  <Input
                    type="text"
                    label="CustomerId"
                    style={{
                      marginLeft: "-70px",
                      width: "100%",
                    }}
                    name="customerId"
                    value={this.state.customerId}
                    onChange={this.handleChange}
                    isError
                  />
                  {/* <p> {errors.customerId} </p> */}
                  {/* <p>{errors.customerId.length > 0 ? (<span> Hello </span>) : (<span>Welcome</span>)}</p> */}
                </div>
                <div className="fields">
                  <Input
                    type="text"
                    label="Company Name"
                    style={{
                      marginLeft: "-70px",
                      width: "100%",
                    }}
                    name="companyName"
                    value={this.state.companyName}
                    onChange={this.handleChange}
                    isError
                  // errorMsg={this.validate}
                  />
                </div>
                <div className="fields">
                  <div className="input-fields">
                    <label htmlFor="" className="label">
                      Phone
                    </label>
                    <PhoneInput
                      style={{
                        marginLeft: "-70px",
                      }}
                      // value={phone}
                      name="mobileNumber"
                      className="form-control"
                      international
                      defaultCountry="IN"
                    // onChange={setPhone}
                    />
                  </div>
                </div>
                <div className="fields">
                  <Select
                    label="Install"
                    placeholder="Select Installation No."
                    options={BillNo}
                    defaultValue={BillNo[0]}
                    className="select-control bill-select department-select"
                  />
                </div>
              </div>
              {/* Left Side End */}
              {/* Right Side Start */}
              <div className="form__right">
                <div className="fields">
                  <Select
                    label="PayMode"
                    options={payMode}
                    className="select-control source-select"
                    defaultValue={payMode[0]}
                  />
                </div>

                <div className="fields">
                  <Input
                    type="text"
                    label="PaidAmt"
                    name="paidAmt"
                    value={this.state.paidAmt}
                    onChange={this.handleChange}
                    isError
                  />
                </div>
                <div className="fields">
                  <TextArea
                    type="text"
                    label="Remarks"
                    rows="2"
                    name="remarks"
                    value={this.state.remarks}
                    onChange={this.handleChange}
                    style={{
                      marginLeft: "13px",
                    }}
                  />
                </div>
              </div>
            </div>
            <div className="btn__holder">
              <Button
                type="submit"
                className="btn btn-primary"
                onClick={this.handleSubmit}
              >
                Save
              </Button>
              <input type="reset" value="Clear" className="btn btn-secondary" />

            </div>
          </form>
        </div>
        <Footer />
        {/* Source Modal*/}
        <ToastContainer />
      </>
    );
  };
};
export default CustomerReceipt;